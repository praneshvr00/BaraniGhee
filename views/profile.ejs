<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Profile</title>
    <link rel = "icon" href = 
    "img/mainlogo.png"
            type = "image/x-icon">
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"
    />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap@4.4.1/dist/css/bootstrap.min.css"
      integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh"
      crossorigin="anonymous"
    />
    <script src="https://code.iconify.design/2/2.2.1/iconify.min.js"></script>
    <script
      src="https://code.jquery.com/jquery-3.4.1.slim.min.js"
      integrity="sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n"
      crossorigin="anonymous"
    ></script>
    <script
      src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js"
      integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo"
      crossorigin="anonymous"
    ></script>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@4.4.1/dist/js/bootstrap.min.js"
      integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6"
      crossorigin="anonymous"
    ></script>
    <link rel="stylesheet" type="text/css" href="css/style.css" />
    <link rel="stylesheet" href="text/css" href="media_style.css" />
    <style>
   
        .button-58 {
          align-items: center;
          background-color: rgb(108, 112, 117);
          border: 2px solid rgb(216, 223, 233);
          box-sizing: border-box;
          color: #fff;
          cursor: pointer;
          display: inline-flex;
          fill: #000;
          font-family: Inter, sans-serif;
          font-size: 16px;
          font-weight: 600;
          height: 48px;
          justify-content: center;
          letter-spacing: -0.8px;
          line-height: 24px;
          min-width: 140px;
          outline: 0;
          padding: 0 17px;
          text-align: center;
          text-decoration: none;
          transition: all 0.3s;
          user-select: none;
          -webkit-user-select: none;
          touch-action: manipulation;
        }
    
        .button-58:focus {
          color: #171e29;
        }
    
        .button-58:hover {
          background-color: #3385ff;
          border-color: #3385ff;
          fill: #06f;
        }
    
        .button-58:active {
          background-color: #3385ff;
          border-color: #3385ff;
          fill: #06f;
        }
    
        @media (min-width: 768px) {
          .button-58 {
            min-width: 170px;
          }
        }
        body {
          /* background-color: #ffffff;
             background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 1600 900'%3E%3Cdefs%3E%3ClinearGradient id='a' x1='0' x2='0' y1='1' y2='0'%3E%3Cstop offset='0' stop-color='%230FF'/%3E%3Cstop offset='1' stop-color='%23CF6'/%3E%3C/linearGradient%3E%3ClinearGradient id='b' x1='0' x2='0' y1='0' y2='1'%3E%3Cstop offset='0' stop-color='%23F00'/%3E%3Cstop offset='1' stop-color='%23FC0'/%3E%3C/linearGradient%3E%3C/defs%3E%3Cg fill='%23FFF' fill-opacity='0' stroke-miterlimit='10'%3E%3Cg stroke='url(%23a)' stroke-width='2'%3E%3Cpath transform='translate(0 0)' d='M1409 581 1450.35 511 1490 581z'/%3E%3Ccircle stroke-width='4' transform='rotate(0 800 450)' cx='500' cy='100' r='40'/%3E%3Cpath transform='translate(0 0)' d='M400.86 735.5h-83.73c0-23.12 18.74-41.87 41.87-41.87S400.86 712.38 400.86 735.5z'/%3E%3C/g%3E%3Cg stroke='url(%23b)' stroke-width='4'%3E%3Cpath transform='translate(0 0)' d='M149.8 345.2 118.4 389.8 149.8 434.4 181.2 389.8z'/%3E%3Crect stroke-width='8' transform='rotate(0 1089 759)' x='1039' y='709' width='100' height='100'/%3E%3Cpath transform='rotate(0 1400 132)' d='M1426.8 132.4 1405.7 168.8 1363.7 168.8 1342.7 132.4 1363.7 96 1405.7 96z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E");
             background-attachment: fixed;
             background-size: cover; */
        }
    
        @media screen and (max-width: 708px) {
          .image-container {
            width: 100% !important;
          }
          .navb {
            width: 100vw;
          }
          .navb .logo img {
            /* padding-left: 50%; */
          }
          .navb .menu {
            display: none;
            width: 100vw;
          }
          .navb .menu ul {
            width: 98vw;
          }
          .navb .burgericon {
            display: inline-block !important;
            position: absolute;
            right: 20px;
            top: 15px;
          }
        }
    
        @media screen and (max-width: 708px) {
          .IContainer .wrapper .box .imgContainer img {
            width: 100%;
            height: 700px;
          }
          .IContainer .wrapper .box .imgContainer button {
            top: 55%;
            right:  30%;
          }      .IContainer .wrapper .box .textContainer h1{
            width:400px;
            top: 35%;
            font-size: 2.5rem;
            right:  -10%;
          }
        }
    
        @media screen and (max-width: 708px) {
          .addvertisement {
            height: fit-content;
            flex-direction: column;
          }
          .addvertisement .wrapper {
            flex-direction: column;
            width: fit-content;
          }
        }
    
        @media screen and (max-width: 708px) {
          .products {
            width: fit-content;
            justify-content: center;
            align-items: center;
            height: fit-content;
            flex-direction: column;
            height: fit-content;
          }
          .products .wrapper {
            flex-direction: column;
            width: 100vw;
          }
          .products .wrapper .box {
            width: max-content;
          }
          .products .wrapper .box img{
            width: 290px;
            height: fit-content;
          }
          .button-34 {
            margin-top: 10px;
          }
        }
    
        @media screen and (max-width: 708px) {
          .quality {
            height: 500px;
            width: fit-content;
          }
          .quality .image img{
            width: 100vw;
            height: 600px;
            opacity: .9;
          }
          .quality .text p {
            font-size: 1.8rem;
            columns: #121212 !important;
          }
          .quality .text h1{
            font-size: x-large;
            font-weight: 800;
            /* color: #5e5df0; */
          }
          .quality .text {
            align-items: center;
            justify-content: center;
            text-align: center;
            width: 340px;
          }
          .quality .text p{
            margin-top: -10px;
            font-weight: normal;
          }
          
          .custom{
            font-size: x-large;
          }
          #review p{
            font-size: 5vw;
          }
          #review #name{
            font-size: 4vw !important;
          }
        }
    
        @media screen and (max-width: 708px) {
          .certContainer {
            height: fit-content;
          }
        }
    
        @media (max-width: 991px) {
          .site-footer [class^="col-"] {
            margin-bottom: 30px;
          }
        }
        @media (max-width: 767px) {
          .site-footer {
            padding-bottom: 0;
          }
          .site-footer .copyright-text,
          .site-footer .social-icons {
            text-align: center;
          }
        }
    
        @media (max-width: 767px) {
          .social-icons li.title {
            display: block;
            margin-right: 0;
            font-weight: 600;
          }
        }
        .burgericon {
          display: none !important;
        }
        .navbarOverlay {
          width: 100%;
          height: 400px;
          z-index: 9;
          opacity: 0.7;
          position: fixed;
          top: 70px;
          background-color: rgb(0, 0, 0);
          display: none;
        }
        .navbarOverlay .Ovmenu {
          width: 100%;
          height: 100%;
          display: flex;
          justify-content: center;
          align-items: center;
          text-align: center;
        }
        .navbarOverlay ul {
          width: 100%;
          height: 100%;
          display: flex;
          flex-direction: column;
          justify-content: center;
          /* background-color: #06f; */
          /* text-align: center; */
        }
        .navbarOverlay ul li {
          margin: 10px;
          list-style-type: none;
        }
        .navbarOverlay ul li a {
          color: #fff;
        }
        @media screen and (max-width: 708px) {
        .profContainer .wrapper .form form{
          /* display: block; */
        }
        .profContainer .wrapper{
          margin-top: 120px;
        }
      }
      .profContainer .wrapper{
          margin-top: 140px;
        }
      #userImg img{
      width: 60px;
      height: 60px;
      object-fit: cover;
      border-radius: 50%;
    }
    @media screen and (max-width: 708px) {
      #userImg {
        margin-right: 0 !important;
        margin-left: auto !important;

      }
      
    }
      </style>
  </head>
  <body >
    <span class="navbarOverlay" id="showOverlay">
      <div class="Ovmenu">
        <ul>
          <span
            onclick="showMenu()"
            class="cross"
            style="color: #fff; position: absolute; left: 20px; top: 20px"
          >
            <i class="fa-solid fa-3x fa-xmark"></i>
          </span>
          <li><a href="/">Home </a></li>
          <li><a href="product"> Product </a></li>
          <li><a href="contact"> Contact Us </a></li>
          <li><a href="about"> About Us </a></li>
          <li><a href="shop"> Shop </a></li>
          <% if (user == null) { %>
            <li><a href="signup"> Login/Signup </a></li>
          <% } else { %> 
              <li><a href="#" style="color: #5e5df0;"> Profile </a></li>
              <li><a href="orders"> My Orders </a></li>
              <li><a href="logout"> Logout </a></li>
          <% } %>
          <li>
            <a href="cart"> <i class="fas fa-2x fa-shopping-cart"></i> </a>
          </li>
        </ul>
      </div>
    </span>
    <div class="image-container">
      <p class="image-holder">
        <img src="img/loading.gif" />
      </p>
    </div>

    <div class="navb">
      <div class="logo" style="display: flex;justify-content: space-between; ">
        
        <% if (url) { %>
         <div id="userImg">
          <img  src = <%= url %>   referrerpolicy="no-referrer" />
         </div>
        <% } else { %> 
          
        <% } %>
        <img id="barani" src="img/mainlogo.png" />
      </div>

      <div class="name"></div>
      <div class="menu">
        <ul>
          <li><a href="/">Home</a></li>
          <li><a href="product"> Product </a></li>
          <li><a href="contact"> Contact Us </a></li>
          <li><a href="about"> About Us </a></li>
          <li><a href="shop"> Shop </a></li>
          <% if (user == null) { %>
          <li><a href="signup"> Login/Signup </a></li>
          <% } else { %> 
            <li><a href="#"><span class="active">Profile</span></a></li>
            <li><a href="orders"> My Orders </a></li>
            <li><a href="logout"> Logout </a></li>
          <% } %>
          <li>
            <a href="cart"> <i class="fas fa-2x fa-shopping-cart"></i> </a>
          </li>
        </ul>
      </div>
      <div
        id="burgericon"
        class="burgericon"
        style="display: flex; align-items: center"
        onclick="showMenu()"
      >
        <i class="fa-solid fa-3x fa-bars"></i>
      </div>
    </div>
    <div class="profContainer">
        <div class="wrapper">
            <div class="form">
                <form method="post" action="/updateprofile">
                    <div class="imgContainer">
                        <img src="<%= userImg %>" id="userUpdImg" width="150px" height="150px" referrerpolicy="no-referrer">
                        <label class="label-img" for="uplImg"><input accept="image/*" type="file" name="uplImg" id="uplImg" class="uplImg"><i class="fa-solid fa-3x fa-plus"></i> </label>
                    </div>
                    <span style="color: red;">Please wait until the image get loads and then click update !</span>
                    <label for="username">Username: </label>
                    <input type="text" id="username" name="username" value="<%= user %>" readonly>
                    <label for="country">Country: </label>
                    <input type="text" id="country" value="" readonly>
                    <label for="phone">Phone: </label>
                    <input type="text" id="phone" value="" readonly>
                    <input type="hidden" value="" id="url" name="url">
                    <button type="submit" id="update" value="update">Update</button>
                </form>
            </div>
        </div>
    </div>
    <!--  footer -->
    <footer class="site-footer">
      <div class="container">
        <div class="row">
          <div class="col-sm-12 col-md-6">
            <strong><h6>About</h6></strong>
            <p class="text-justify">
              For over four decades, we Barani are manufacturing Butter and Ghee
              in a traditional way.We use milk and cream in and around the same
              locality and hence helping the community to grow.We are employing
              the needies and ensuring their families development. The company
              takes pride in its four decades old conviction to provide Purity,
              Taste & Quality.
            </p>
          </div>
          <div class="col-xs-6 col-md-3" style="font-weight: 800px">
            <strong><h6>Contact Us</h6></strong>
            <ul class="footer-links" style="color: white">
              <li>
                <b>Address:</b>446/T,ASM Pettai,<br />
                Oddanchatram-624619<br />
                Dindigul District.
              </li>
              <li><b>Phone:</b>9443042655</li>
            </ul>
          </div>

          <div class="col-xs-6 col-md-3">
            <strong><h6>Quick Links</h6></strong>
            <ul class="footer-links">
              <li>
                <a href="">Home</a>
              </li>
              <li><a href="http://scanfcode.com/about/">About Us</a></li>
              <li><a href="http://scanfcode.com/contact/">Contact Us</a></li>

              <li>
                <a href="http://scanfcode.com/privacy-policy/">Products</a>
              </li>
              <li><a href="http://scanfcode.com/sitemap/">Shop</a></li>
            </ul>
          </div>
        </div>
        <hr />
      </div>
      <div class="container">
        <div class="row">
          <div class="col-md-8 col-sm-6 col-xs-12">
            <p class="copyright-text">
              Copyright &copy; 2025 All Rights Reserved by
              <a href="#">Bharani</a>.
            </p>
          </div>

          <div class="col-md-4 col-sm-6 col-xs-12">
            <ul class="social-icons">
              <li>
                <a class="facebook" href="#"
                  ><i class="fa-brands fa-facebook"></i
                ></a>
              </li>
              <li>
                <a class="twitter" href="#"
                  ><i class="fa-solid fa-envelope"></i
                ></a>
              </li>
              <li>
                <a class="dribbble" href="#"
                  ><i class="fa-brands fa-instagram"></i
                ></a>
              </li>
              <li>
                <a class="linkedin" href="#"
                  ><i class="fa-solid fa-phone"></i
                ></a>
              </li>
            </ul>
          </div>
        </div>
      </div>
    </footer>
    <script>
      const file = document.getElementById("uplImg")
      const userImg = document.getElementById("userUpdImg")
      file.addEventListener("change", ev => {
        const fileSize = ev.target.files[0].size / 1024 / 1024;
        if (fileSize > 1) {
          alert('File size exceeds 1 MiB');
          return false;
        } 
          const formdata = new FormData()
          formdata.append("image", ev.target.files[0])
          fetch("https://api.imgur.com/3/image/", {
              method: "post",
              headers: {
                  Authorization: "Client-ID 6c4533e9356e4e7"
              },
              body: formdata
          }).then(data => data.json()).then(data => {
              userImg.src = data.data.link;
              document.getElementById("url").value = data.data.link;
              alert("Uploaded, Wait for some time and submit")
          })
      })
  </script>
    <link
      href="https://maxcdn.bootstrapcdn.com/bootstrap/3.1.1/css/bootstrap.min.css"
      type="text/css"
      rel="stylesheet"
    />
    <script
      src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js"
      type="text/javascript"
    ></script>
    <script
      src="https://maxcdn.bootstrapcdn.com/bootstrap/3.1.1/js/bootstrap.min.js"
      type="text/javascript"
    ></script>
    <!-- Navigating -->
    <script>
      function productpage() {
        window.location.href = "product";
      }
    </script>
    <script>
      $("div.image-container").delay(1000).fadeToggle("slow");
    </script>
    <script>
      function showMenu() {
        var show = document.getElementById("showOverlay");
        var icon = document.getElementById("burgericon");

        if (show.style.display == "inline") {
          show.style.display = "none";
        } else {
          show.style.display = "inline";
        }
      }
      $.each($("*"), function () {
        if ($(this).width() > $("body").width()) {
          console.log("Wide Element: ", $(this), "Width: ", $(this).width());
        }
      });
     
    </script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
  </body>
</html>
